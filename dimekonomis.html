<!DOCTYPE html><html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Resep Dimsum & Mentai</title>
<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#f2f2f2}
.container{max-width:600px;margin:auto;padding:16px}
h1{text-align:center}
.tabs{
  display:flex;
  gap:0;
  margin-bottom:16px;
}
.tabs button{
  flex:1;
  border-radius:0;
}
.tabs button:first-child{
  border-top-left-radius:10px;
  border-bottom-left-radius:10px;
}
.tabs button:last-child{
  border-top-right-radius:10px;
  border-bottom-right-radius:10px;
}button{background:#2ecc71;color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer} button.inactive{opacity:.6} .box{background:#fff;border-radius:12px;padding:12px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center;gap:8px} .box.total{border:2px solid #2ecc71} input{width:90px;padding:4px} </style>

</head>
<body>
<div class="container">
<h1 id="judul">Resep Dimsum</h1><div class="tabs">
  <button id="tabAyam" onclick="showTab('ayam')">Resep Dimsum</button>
  <button id="tabMentai" class="inactive" onclick="showTab('mentai')">Saus Mentai</button>
</div><!-- TAB AYAM --><div id="ayam">
  <div class="box total" id="totalBox">
    <b>Total Daging + Kulit Ayam</b>
    <span id="totalAyam">255 gr</span>
    <button onclick="editTotal()">Edit</button>
  </div>
  <div id="resepAyam"></div>
</div><!-- TAB MENTAI --><div id="mentai" style="display:none">
  <div id="resepMentai"></div>
</div><div class="box" style="justify-content:center;gap:10px">
  <button onclick="resetResep()">Reset</button>
  <button onclick="window.print()">Cetak Resep</button>
</div>
</div><script>
/* ================= AYAM ================= */
const totalAwalAyam = 255;
let faktorAyam = 1;
const ayam = [
 {n:'Daging halus (gr)',v:140},
 {n:'Daging cincang (gr)',v:75},
 {n:'Kulit ayam (gr)',v:40},
 {n:'Telur (butir)',v:0.5},
 {n:'Labu siam (gr)',v:25},
 {n:'Tepung tapioka (gr)',v:88},
 {n:'Bawang putih (gr)',v:6},
 {n:'Kecap asin (Sendok 7,5)',v:1},
 {n:'Merica (Sendok 1,25)',v:0.5},
 {n:'Bumbu atom (Sendok 2,5)',v:2},
 {n:'Kaldu knoor (Sendok 2,5)',v:2},
 {n:'Gula (Sendok 10)',v:1},
 {n:'Garam (Sendok 1,25)',v:3},
 {n:'Minyak wijen (Sendok 7,5)',v:1},
 {n:'Saus tiram (Sendok 7,5)',v:1}
];

function renderAyam(){
  const d=document.getElementById('resepAyam');
  d.innerHTML='';
  let total=0;
  ayam.forEach((r,i)=>{
    const h=r.v*faktorAyam;
    if(r.n.includes('Daging')||r.n.includes('Kulit')) total+=h;
    d.innerHTML+=`<div class="box"><span>${r.n}</span><span>${h.toFixed(2)}</span><button onclick="editAyam(${i})">Edit</button></div>`;
  });
  document.getElementById('totalAyam').innerText=Math.round(total)+' gr';
}

function editAyam(i){
  const d=document.getElementById('resepAyam');
  d.children[i].innerHTML=`<span>${ayam[i].n}</span><input type="number" step="any" id="ea${i}"><button onclick="saveAyam(${i})">Simpan</button>`;
}

function saveAyam(i){
  const val=parseFloat(document.getElementById('ea'+i).value);
  if(!val) return;
  faktorAyam=val/ayam[i].v;
  renderAyam();
}

function editTotal(){
  const b=document.getElementById('totalBox');
  b.innerHTML=`<b>Total Daging + Kulit Ayam</b><input type="number" id="et"><button onclick="saveTotal()">Simpan</button>`;
}

function saveTotal(){
  const v=parseFloat(document.getElementById('et').value);
  if(!v) return;
  faktorAyam=v/totalAwalAyam;
  document.getElementById('totalBox').innerHTML=`<b>Total Daging + Kulit Ayam</b><span id="totalAyam"></span><button onclick="editTotal()">Edit</button>`;
  renderAyam();
}

/* ================= MENTAI ================= */
let faktorMentai=1;
const mentai=[
 {n:'Mayonaise Kewpie (gr)',v:25},
 {n:'Mayonaise Gourmet (gr)',v:25},
 {n:'Saus cabai (gr)',v:10},
 {n:'Saus tomat (gr)',v:5},
 {n:'Susu SKM (gr)',v:5},
 {n:'Minyak wijen (Sendok 1,25)',v:0.5},
 {n:'Dashi (Sendok 1,25)',v:1}
];

function renderMentai(){
  const d=document.getElementById('resepMentai');
  d.innerHTML='';
  mentai.forEach((r,i)=>{
    const h=r.v*faktorMentai;
    d.innerHTML+=`<div class="box"><span>${r.n}</span><span>${h.toFixed(2)}</span><button onclick="editMentai(${i})">Edit</button></div>`;
  });
}

function editMentai(i){
  const d=document.getElementById('resepMentai');
  d.children[i].innerHTML=`<span>${mentai[i].n}</span><input type="number" step="any" id="em${i}"><button onclick="saveMentai(${i})">Simpan</button>`;
}

function saveMentai(i){
  const val=parseFloat(document.getElementById('em'+i).value);
  if(!val) return;
  faktorMentai=val/mentai[i].v;
  renderMentai();
}

/* ================= TAB ================= */
function showTab(t){
  document.getElementById('ayam').style.display=t==='ayam'?'block':'none';
  document.getElementById('mentai').style.display=t==='mentai'?'block':'none';
  document.getElementById('tabAyam').classList.toggle('inactive',t!=='ayam');
  document.getElementById('tabMentai').classList.toggle('inactive',t!=='mentai');
  document.getElementById('judul').innerText = t==='ayam' ? 'Resep Dimsum' : 'Saus Mentai';
}

renderAyam();
renderMentai();
function resetResep(){
  faktorAyam = 1;
  faktorMentai = 1;
  document.getElementById('totalBox').innerHTML = `<b>Total Daging + Kulit Ayam</b><span id="totalAyam"></span><button onclick="editTotal()">Edit</button>`;
  renderAyam();
  renderMentai();
}
</script></body>
</html>
